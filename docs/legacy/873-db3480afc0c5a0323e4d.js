(window.webpackJsonpexam_app=window.webpackJsonpexam_app||[]).push([[873],{4873:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});r(2222),r(3290),r(9554),r(6992),r(9600),r(1249),r(7042),r(5212),r(1539),r(8783),r(3210),r(4747),r(3948),r(285);var n=r(2386),i=r(3596),s=r(77),a=r(5804),o=r(2264),u=r(3121);function c(e){var t=e.data;return(0,n.h)("span",{"data-rich":1},t.map((function(e){return function(e){var t=e.type,r=e.value;switch(t){case"sup":case"div":case"sub":return(0,n.h)(t,null,r);case"inline-img":return(0,n.h)("span",{class:"opt-image-container"},(0,n.h)("img",{src:r,class:"opt-img"}));case"img":return(0,n.h)("div",{style:"text-align:center"},(0,n.h)("img",{src:r,class:"opt-img"}));case"underline":case"bold":return(0,n.h)("span",{class:t},r);case"text":default:return(0,n.h)("span",null,r)}}(e)})))}var l={0:"A",1:"B",2:"C",3:"D"},h=function(e){return"object"==typeof e?(0,n.h)(c,{data:e}):String(e)};function f(e){var t=e.x,r=e.i,i=e.setOption,s=e.answered;return(0,n.h)("div",{class:"question-body"},(0,n.h)("div",{class:"question-text"},"Q.",r+1,(0,n.h)("span",{class:"q-main"},h(t.question))),(0,n.h)(p,{options:t.options,onClick:i,questionIndex:r,answered:s}))}function p(e){return(0,n.h)("div",null,e.options.map((function(t,r){return(0,n.h)("div",{class:"option-box"},(0,n.h)("span",{class:"readable-name"},l[r]),(0,n.h)("div",{onClick:e.onClick,class:"question-choice"+(r===e.answered?" selected":""),"data-option_index":r,"data-question_index":e.questionIndex},h(t)))})))}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return d(m(t=e.call.apply(e,[this].concat(n))||this),"tFix",(function(e){return(1===(e=""+e).length?"0":"")+e})),d(m(t),"__startTicks",(function(){return t.parseTime()})),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.parseTime=function(){var e,t=this.props,r=+new Date,n=t.timeLeft-(r-t.prevTime)/1e3,i=n,s=Math.floor(i/3600);e=i%3600;var a=Math.floor(e/60),o=e=Math.round(e%60);this.props.setTimeLeft(n,r),this.setState({hours:s,mins:a,sec:o})},i.componentDidUpdate=function(){var e=this.state,t=e.hours,r=e.mins,n=e.sec;if(0===t&&0===r&&0===n||[t,r,n].some((function(e){return e<0})))return clearInterval(this.___interval),this.props.timeOver()},i.componentDidMount=function(){this.___interval=setInterval(this.__startTicks,1e3)},i.componentWillUnmount=function(){clearInterval(this.___interval)},i.render=function(e,t){var r=this.tFix;if(!("hours"in t&&"mins"in t&&"sec"in t))return"";var n=t.hours,i=t.mins,s=t.sec;return[n,i,s].some((function(e){return e<0}))?"":r(n)+":"+r(i)+":"+r(s)},n}(n.wA);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=a.h.getStore(),b=a.h.getStrings(),x=function(e){var t,r;function c(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return w(g(t=e.call.apply(e,[this].concat(o))||this),"state",{isFetching:!1,questions:null,answers:null,timeOver:!1}),w(g(t),"timeOver",(function(){t.setState({timeOver:!0,forceSubmit:!0,answers:t.state.answers.slice().map((function(e){return null==e?-1:e}))})})),w(g(t),"timeLeft",(function(e,r){return t.setState({timeLeft:e,prevTime:r})})),w(g(t),"_submit",(function(){if(!t.state.results&&!t.state.awaitingScore){var e=t.state.answers,r=_.userData.scholar,n=t.state.questions.subject;if(!t.state.forceSubmit){var o=[];if(e.forEach((function(e,t){return null==e&&o.push(t+1)})),o.length)return t.setState({$AnswerError:o.join(", ")})}t.setState({awaitingScore:!0}),(0,i.VN)(s.WX.gradeTest,{scholar:r,subject:n,answers:e}).then((function(e){if(e.error)return t.setState({error:e.error,awaitingScore:!1,timeOver:!1});a.h.set("userData",e.user_data),t.setState({results:e,awaitingScore:!1,timeOver:!1})}))}})),w(g(t),"_answerQuestion",(function(e){var r=e.target.dataset,n=+r.question_index,a=+r.option_index;t.state.answers[n]===a&&(a=null);var o=t.state.answers.slice();o[n]=a,(0,i.VN)(s.WX.quickSave,{subject:t.state.questions.subject,answers:o}),t.setState({answers:o})})),w(g(t),"_closePopup",(function(){return t.setState({timeOver:!1})})),w(g(t),"_clearError",(function(){return t.setState({$AnswerError:null})})),w(g(t),"__closeTest",(function(){return(0,n.uX)("/profile")})),t}r=e,(t=c).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=c.prototype;return l.componentDidUpdate=function(){!this.state.timeOver||this.state.awaitingScore||this.state.results||this._submit()},l.componentDidMount=function(){var e=this;if(!_.isLoggedIn)return(0,n.uX)("/");var t=new URLSearchParams(n.F0.getQs).get("sub");if(!t)return this.setState({error:b.Exam$Invalid});this.setState({isFetching:!0}),(0,i.VN)(s.WX.startTest,{scholar:_.userData.scholar,subject:t.trim()}).then((function(t){if(t.error)return e.setState({error:t.error,isFetching:!1});var r,n=t.previous_answers||[];n.length&&n.some((function(e){return null!=e}))&&(r=n),e.setState({questions:t,isFetching:!1,prevTime:+new Date,answers:r||Array(t.question_data.length).fill(null),timeLeft:t.time_allotted-(t.now-t.start_time)})}))},l.render=function(e,t){var r=this;return t.error?(0,n.h)(u.OK,{reasons:[t.error],close:this.__closeTest}):t.$AnswerError?(0,n.h)(u.GI,{close:this._clearError,title:b.Exam$UnansweredQuestionsLeft,errorHead:b.Exam$NoNegativeMarking,reasons:[t.$AnswerError]}):t.isFetching?(0,n.h)("div",{style:o.Kx},b.Exam$LoadingQuestions):t.timeOver?(0,n.h)(u.GI,{close:this._closePopup,title:b.Exam$TimeUp,errorHead:b.Exam$TimeUpAnswerSubmitInfo}):t.awaitingScore?(0,n.h)("div",{style:o.Kx},b.Exam$CalculatingScore):t.results?(0,n.h)(u.GI,{close:this.__closeTest,title:b.Exam$ResultText,errorHead:(0,n.h)(n.HY,null,(0,n.h)("div",null,b.Exam$MaximumMarks+t.results.total),(0,n.h)("div",null,b.Exam$YourScore)),reasons:[t.results.score]}):t.questions&&(0,n.h)("div",null,(0,n.h)("div",{class:"exam-header"},"class ",t.questions.grade," - ",t.questions.subject," test"),(0,n.h)("div",{class:"total-time"},b.Exam$TimeAllotted,(0,n.h)("span",{class:"bold"},(0,u.bT)(t.questions.time_allotted))),(0,n.h)("span",{class:"t-left"},b.Exam$TimeLeft,(0,n.h)(v,{timeOver:this.timeOver,setTimeLeft:this.timeLeft,timeLeft:t.timeLeft,prevTime:t.prevTime})),(0,n.h)("div",{class:"questions-container"},t.questions.question_data.map((function(e,i){return(0,n.h)(f,{x:e,i:i,setOption:t.timeOver?null:r._answerQuestion,answered:t.answers[i]})}))),(0,n.h)("button",{class:"submit-exam hoverable",onClick:this._submit},b.Exam$Submit))},c}(n.wA)},3121:function(e,t,r){"use strict";r.d(t,{OK:function(){return o},GI:function(){return u},bT:function(){return c},uS:function(){return f}});r(2222),r(1249),r(9601);var n=r(2386);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(5804).h.getStrings();function o(e){return(0,n.h)(u,Object.assign(Object.assign({},e),{},{title:a.Error$TitleDefault}))}var u=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return s(i(t=e.call.apply(e,[this].concat(n))||this),"__id",Math.random()),t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.componentDidMount=function(){var e=document.getElementById(""+this.__id);e&&e.focus()},o.render=function(e){return(0,n.h)(n.HY,null,(0,n.h)("div",{class:"mask",onClick:e.cancel},(0,n.h)("div",{class:"app-popup"},(0,n.h)("div",{class:"heading-text clr app-popup-title"},e.title),(0,n.h)("div",null,e.errorHead),(0,n.h)("div",{class:"err-reasons"},(0,n.h)("div",null,(e.reasons||[]).map((function(e){return(0,n.h)("div",null,e)})))),(0,n.h)("button",{id:this.__id,class:"app-popup-close",onClick:e.close},"OK"))))},a}(n.wA),c=function(e){var t,r=Math.floor(e/3600),n=e%3600/60;return(r>0?r+" "+(t="hour",1===r?t:t+"s"):"")+(n>0?" "+n+" mins":"")};var l={hour:"numeric",hour12:!0,minute:"numeric"},h="undefined"!=typeof Intl;function f(e){var t,r,n=new Date(e);try{if(h){var i=new Date;return n.getFullYear()!==i.getFullYear()&&(l.year="numeric"),r=i,((t=n).getFullYear()!==r.getFullYear()||t.getMonth()!==r.getMonth()||t.getDate()!==r.getDate())&&(l.month=l.day="numeric"),Intl.DateTimeFormat("en-in",l).format(n).toUpperCase()}}catch(e){return console.log(e)}return n.toLocaleString()}},1285:function(e,t,r){"use strict";var n=r(7908),i=r(1400),s=r(7466);e.exports=function(e){for(var t=n(this),r=s(t.length),a=arguments.length,o=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>o;)t[o++]=e;return t}},2222:function(e,t,r){"use strict";var n=r(2109),i=r(7293),s=r(3157),a=r(111),o=r(7908),u=r(7466),c=r(6135),l=r(5417),h=r(1194),f=r(5112),p=r(7392),m=f("isConcatSpreadable"),d=p>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=h("concat"),g=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:s(e)};n({target:"Array",proto:!0,forced:!d||!v},{concat:function(e){var t,r,n,i,s,a=o(this),h=l(a,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(s=-1===t?a:arguments[t],g(s)){if(f+(i=u(s.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,f++)r in s&&c(h,f,s[r])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(h,f++,s)}return h.length=f,h}})},3290:function(e,t,r){var n=r(2109),i=r(1285),s=r(1223);n({target:"Array",proto:!0},{fill:i}),s("fill")},5212:function(e,t,r){"use strict";var n=r(2109),i=r(2092).some,s=r(9341),a=r(9207),o=s("some"),u=a("some");n({target:"Array",proto:!0,forced:!o||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);