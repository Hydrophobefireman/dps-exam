(window.webpackJsonpexam_app=window.webpackJsonpexam_app||[]).push([[843],{7766:function(t,e,n){t.exports=n(8065)},4494:function(t,e,n){t.exports=n(9743)},7149:function(t,e,n){t.exports=n(5286)},1581:function(t,e,n){t.exports=n(3474)},4435:function(t,e,n){t.exports=n(3926)},3686:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return j}});n(9600);var r=n(4494),s=n.n(r),i=n(7149),a=n.n(i),o=n(5843),u=n.n(o),c=n(4435),l=n.n(c),h=n(8914),f=n.n(h),p=n(3649),v=n.n(p),m=n(2991),d=n.n(m),g=n(7766),x=n.n(g),w=n(1222),_=n.n(w),y=n(4382),S=n.n(y),b=n(7672),A=n.n(b),T=n(2386),q=n(3596),E=n(77),$=n(5804),D=n(2264),O=n(3121),I=n(1323),L=n(1581),k=n.n(L),F=function(t){function e(){for(var e,n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,x()(e=[this]).call(e,s))||this,A()(_()(n),"tFix",(function(t){return(1===(t=""+t).length?"0":"")+t})),A()(_()(n),"__startTicks",(function(){return n.parseTime()})),n}S()(e,t);var n=e.prototype;return n.parseTime=function(){var t,e=this.props,n=+new Date,r=e.timeLeft-(n-e.prevTime)/1e3,s=r,i=Math.floor(s/3600);t=s%3600;var a=Math.floor(t/60),o=t=Math.round(t%60);this.props.setTimeLeft(r,n),this.setState({hours:i,mins:a,sec:o})},n.componentDidUpdate=function(){var t,e=this.state,n=e.hours,r=e.mins,s=e.sec;if(0===n&&0===r&&0===s||a()(t=[n,r,s]).call(t,(function(t){return t<0})))return clearInterval(this.___interval),this.props.timeOver()},n.componentDidMount=function(){this.___interval=k()(this.__startTicks,1e3)},n.componentWillUnmount=function(){clearInterval(this.___interval)},n.render=function(t,e){var n,r=this.tFix;if(!("hours"in e&&"mins"in e&&"sec"in e))return"";var s=e.hours,i=e.mins,o=e.sec;return a()(n=[s,i,o]).call(n,(function(t){return t<0}))?"":r(s)+":"+r(i)+":"+r(o)},e}(T.wA),M=$.h.getStore(),C=$.h.getStrings(),j=function(t){function e(){for(var e,n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,x()(e=[this]).call(e,s))||this,A()(_()(n),"state",{isFetching:!1,questions:null,answers:null,timeOver:!1}),A()(_()(n),"timeOver",(function(){var t,e;n.setState({timeOver:!0,forceSubmit:!0,answers:d()(t=v()(e=n.state.answers).call(e)).call(t,(function(t){return null==t?-1:t}))})})),A()(_()(n),"timeLeft",(function(t,e){return n.setState({timeLeft:t,prevTime:e})})),A()(_()(n),"_submit",(function(){if(!n.state.results&&!n.state.awaitingScore){var t=n.state.answers,e=M.userData.scholar,r=n.state.questions.subject;if(!n.state.forceSubmit){var s=[];if(f()(t).call(t,(function(t,e){return null==t&&s.push(e+1)})),s.length)return n.setState({$AnswerError:s.join(", ")})}n.setState({awaitingScore:!0}),(0,q.VN)(E.WX.gradeTest,{scholar:e,subject:r,answers:t}).then((function(t){if(t.error)return n.setState({error:t.error,awaitingScore:!1,timeOver:!1});$.h.set("userData",t.user_data),n.setState({results:t,awaitingScore:!1,timeOver:!1})}))}})),A()(_()(n),"_answerQuestion",(function(t){var e,r=t.target.dataset,s=+r.question_index,i=+r.option_index;n.state.answers[s]===i&&(i=null);var a=v()(e=n.state.answers).call(e);a[s]=i,(0,q.VN)(E.WX.quickSave,{subject:n.state.questions.subject,answers:a}),n.setState({answers:a})})),A()(_()(n),"_closePopup",(function(){return n.setState({timeOver:!1})})),A()(_()(n),"_clearError",(function(){return n.setState({$AnswerError:null})})),A()(_()(n),"__closeTest",(function(){return(0,T.uX)("/profile")})),n}S()(e,t);var n=e.prototype;return n.componentDidUpdate=function(){!this.state.timeOver||this.state.awaitingScore||this.state.results||this._submit()},n.componentDidMount=function(){var t=this;if(!M.isLoggedIn)return(0,T.uX)("/");var e=new(l())(T.F0.getQs).get("sub");if(!e)return this.setState({error:C.Exam$Invalid});this.setState({isFetching:!0}),(0,q.VN)(E.WX.startTest,{scholar:M.userData.scholar,subject:u()(e).call(e)}).then((function(e){var n;if(e.error)return t.setState({error:e.error,isFetching:!1});var r,i=e.previous_answers||[];i.length&&a()(i).call(i,(function(t){return null!=t}))&&(r=i),t.setState({questions:e,isFetching:!1,prevTime:+new Date,answers:r||s()(n=Array(e.question_data.length)).call(n,null),timeLeft:e.time_allotted-(e.now-e.start_time)})}))},n.render=function(t,e){var n,r=this;return e.error?(0,T.h)(O.OK,{reasons:[e.error],close:this.__closeTest}):e.$AnswerError?(0,T.h)(O.GI,{close:this._clearError,title:C.Exam$UnansweredQuestionsLeft,errorHead:C.Exam$NoNegativeMarking,reasons:[e.$AnswerError]}):e.isFetching?(0,T.h)("div",{style:D.Kx},C.Exam$LoadingQuestions):e.timeOver?(0,T.h)(O.GI,{close:this._closePopup,title:C.Exam$TimeUp,errorHead:C.Exam$TimeUpAnswerSubmitInfo}):e.awaitingScore?(0,T.h)("div",{style:D.Kx},C.Exam$CalculatingScore):e.results?(0,T.h)(O.GI,{close:this.__closeTest,title:C.Exam$ResultText,errorHead:(0,T.h)(T.HY,null,(0,T.h)("div",null,C.Exam$MaximumMarks+e.results.total),(0,T.h)("div",null,C.Exam$YourScore)),reasons:[e.results.score]}):e.questions&&(0,T.h)("div",null,(0,T.h)("div",{class:"exam-header"},"class ",e.questions.grade," - ",e.questions.subject," test"),(0,T.h)("div",{class:"total-time"},C.Exam$TimeAllotted,(0,T.h)("span",{class:"bold"},(0,O.bT)(e.questions.time_allotted))),(0,T.h)("span",{class:"t-left"},C.Exam$TimeLeft,(0,T.h)(F,{timeOver:this.timeOver,setTimeLeft:this.timeLeft,timeLeft:e.timeLeft,prevTime:e.prevTime})),(0,T.h)("div",{class:"questions-container"},d()(n=e.questions.question_data).call(n,(function(t,n){return(0,T.h)(I.Z,{x:t,i:n,setOption:e.timeOver?null:r._answerQuestion,answered:e.answers[n]})}))),(0,T.h)("button",{class:"submit-exam hoverable",onClick:this._submit},C.Exam$Submit))},e}(T.wA)},1323:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=n(2991),s=n.n(r),i=n(2386);function a(t){var e=t.data;return(0,i.h)("span",{"data-rich":1},s()(e).call(e,(function(t){return function(t){var e=t.type,n=t.value;switch(e){case"sup":case"div":case"sub":return(0,i.h)(e,null,n);case"inline-img":return(0,i.h)("span",{class:"opt-image-container"},(0,i.h)("img",{src:n,class:"opt-img"}));case"img":return(0,i.h)("div",{style:"text-align:center"},(0,i.h)("img",{src:n,class:"opt-img"}));case"underline":case"bold":return(0,i.h)("span",{class:e},n);case"text":default:return(0,i.h)("span",null,n)}}(t)})))}var o={0:"A",1:"B",2:"C",3:"D"},u=function(t){return"object"==typeof t?(0,i.h)(a,{data:t}):String(t)};function c(t){var e=t.x,n=t.i,r=t.setOption,s=t.answered;return(0,i.h)("div",{class:"question-body"},(0,i.h)("div",{class:"question-text"},"Q.",n+1,(0,i.h)("span",{class:"q-main"},u(e.question))),(0,i.h)(l,{options:e.options,onClick:r,questionIndex:n,answered:s,correct:e.correct}))}function l(t){var e;return(0,i.h)("div",null,s()(e=t.options).call(e,(function(e,n){var r=t.correct===n;return(0,i.h)("div",{class:"option-box"},(0,i.h)("span",{class:"readable-name"},o[n]),(0,i.h)("div",{onClick:t.onClick,class:"question-choice"+(n===t.answered?" selected":"")+(r?" correct":""),"data-option_index":n,"data-question_index":t.questionIndex},u(e)))})))}},3121:function(t,e,n){"use strict";n.d(e,{OK:function(){return g},GI:function(){return x},bT:function(){return w},uS:function(){return S}});var r=n(2991),s=n.n(r),i=n(7766),a=n.n(i),o=n(1222),u=n.n(o),c=n(4382),l=n.n(c),h=n(7672),f=n.n(h),p=n(1942),v=n.n(p),m=n(2386),d=n(5804).h.getStrings();function g(t){return(0,m.h)(x,v()(v()({},t),{},{title:d.Error$TitleDefault}))}var x=function(t){function e(){for(var e,n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,a()(e=[this]).call(e,s))||this,f()(u()(n),"__id",Math.random()),n}l()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=document.getElementById(""+this.__id);t&&t.focus()},n.render=function(t){var e;return(0,m.h)(m.HY,null,(0,m.h)("div",{class:"mask",onClick:t.cancel},(0,m.h)("div",{class:"app-popup"},(0,m.h)("div",{class:"heading-text clr app-popup-title"},t.title),(0,m.h)("div",null,t.errorHead),(0,m.h)("div",{class:"err-reasons"},(0,m.h)("div",null,s()(e=t.reasons||[]).call(e,(function(t){return(0,m.h)("div",null,t)})))),(0,m.h)("button",{id:this.__id,class:"app-popup-close",onClick:t.close},"OK"))))},e}(m.wA),w=function(t){var e,n=Math.floor(t/3600),r=t%3600/60;return(n>0?n+" "+(e="hour",1===n?e:e+"s"):"")+(r>0?" "+r+" mins":"")};var _={hour:"numeric",hour12:!0,minute:"numeric"},y="undefined"!=typeof Intl;function S(t){var e,n,r=new Date(t);try{if(y){var s=new Date;return r.getFullYear()!==s.getFullYear()&&(_.year="numeric"),n=s,((e=r).getFullYear()!==n.getFullYear()||e.getMonth()!==n.getMonth()||e.getDate()!==n.getDate())&&(_.month=_.day="numeric"),Intl.DateTimeFormat("en-in",_).format(r).toUpperCase()}}catch(t){return console.log(t)}return r.toLocaleString()}},5367:function(t,e,n){n(5906);var r=n(5703);t.exports=r("Array").concat},6172:function(t,e,n){n(290);var r=n(5703);t.exports=r("Array").fill},3824:function(t,e,n){n(6026);var r=n(5703);t.exports=r("Array").some},6043:function(t,e,n){var r=n(5367),s=Array.prototype;t.exports=function(t){var e=t.concat;return t===s||t instanceof Array&&e===s.concat?r:e}},446:function(t,e,n){var r=n(6172),s=Array.prototype;t.exports=function(t){var e=t.fill;return t===s||t instanceof Array&&e===s.fill?r:e}},8299:function(t,e,n){var r=n(3824),s=Array.prototype;t.exports=function(t){var e=t.some;return t===s||t instanceof Array&&e===s.some?r:e}},1860:function(t,e,n){"use strict";var r=n(9678),s=n(9413),i=n(3057);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,o=s(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:s(u,n);c>o;)e[o++]=t;return e}},290:function(t,e,n){var r=n(6887),s=n(1860),i=n(8479);r({target:"Array",proto:!0},{fill:s}),i("fill")},6026:function(t,e,n){"use strict";var r=n(6887),s=n(3610).some,i=n(4194),a=n(5486),o=i("some"),u=a("some");r({target:"Array",proto:!0,forced:!o||!u},{some:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},8065:function(t,e,n){var r=n(6043);t.exports=r},9743:function(t,e,n){var r=n(446);t.exports=r},5286:function(t,e,n){var r=n(8299);t.exports=r},3474:function(t,e,n){n(1249);var r=n(4058);t.exports=r.setInterval},3926:function(t,e,n){var r=n(7610);t.exports=r},7610:function(t,e,n){n(5304);var r=n(4058);t.exports=r.URLSearchParams}}]);