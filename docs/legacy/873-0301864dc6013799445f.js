(window.webpackJsonpexam_app=window.webpackJsonpexam_app||[]).push([[873],{7766:function(t,e,n){t.exports=n(8065)},4494:function(t,e,n){t.exports=n(9743)},7149:function(t,e,n){t.exports=n(5286)},1581:function(t,e,n){t.exports=n(3474)},4873:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Q}});n(9600);var r=n(4494),s=n.n(r),i=n(5843),a=n.n(i),o=n(4435),u=n.n(o),c=n(8914),l=n.n(c),h=n(3649),f=n.n(h),p=n(2991),v=n.n(p),d=n(7766),m=n.n(d),g=n(1222),w=n.n(g),_=n(4382),x=n.n(_),y=n(7672),b=n.n(y),S=n(2386),q=n(3596),A=n(77),T=n(5804),O=n(2264),L=n(3121);function k(t){var e=t.data;return(0,S.h)("span",{"data-rich":1},v()(e).call(e,(function(t){return function(t){var e=t.type,n=t.value;switch(e){case"sup":case"div":case"sub":return(0,S.h)(e,null,n);case"inline-img":return(0,S.h)("span",{class:"opt-image-container"},(0,S.h)("img",{src:n,class:"opt-img"}));case"img":return(0,S.h)("div",{style:"text-align:center"},(0,S.h)("img",{src:n,class:"opt-img"}));case"underline":case"bold":return(0,S.h)("span",{class:e},n);case"text":default:return(0,S.h)("span",null,n)}}(t)})))}var I={0:"A",1:"B",2:"C",3:"D"};function D(t){var e=t.x,n=t.i,r=t.setOption,s=t.answered;return(0,S.h)("div",{class:"question-body"},(0,S.h)("div",{class:"question-text"},"Q.",n+1,(0,S.h)("span",{class:"q-main"},"object"!=typeof e.question?String(e.question):(0,S.h)(k,{data:e.question}))),(0,S.h)(M,{options:e.options,onClick:r,questionIndex:n,answered:s}))}function M(t){var e;return(0,S.h)("div",null,v()(e=t.options).call(e,(function(e,n){return(0,S.h)("div",{class:"option-box"},(0,S.h)("span",{class:"readable-name"},I[n]),(0,S.h)("div",{onClick:t.onClick,class:"question-choice"+(n===t.answered?" selected":""),"data-option_index":n,"data-question_index":t.questionIndex},"object"!=typeof e?String(e):(0,S.h)(k,{data:e})))})))}var E=n(1581),F=n.n(E),j=n(7149),C=n.n(j),H=function(t){function e(){for(var e,n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,m()(e=[this]).call(e,s))||this,b()(w()(n),"tFix",(function(t){return(1===(t=""+t).length?"0":"")+t})),b()(w()(n),"__startTicks",(function(){return n.parseTime()})),n}x()(e,t);var n=e.prototype;return n.parseTime=function(){var t,e=this.props,n=+new Date,r=e.timeLeft-(n-e.prevTime)/1e3,s=r,i=Math.floor(s/3600);t=s%3600;var a=Math.floor(t/60),o=t=Math.round(t%60);this.props.setTimeLeft(r,n),this.setState({hours:i,mins:a,sec:o})},n.componentDidUpdate=function(){var t,e=this.state,n=e.hours,r=e.mins,s=e.sec;if(0===n&&0===r&&0===s||C()(t=[n,r,s]).call(t,(function(t){return t<0})))return clearInterval(this.___interval),this.props.timeOver()},n.componentDidMount=function(){this.___interval=F()(this.__startTicks,1e3)},n.componentWillUnmount=function(){clearInterval(this.___interval)},n.render=function(t,e){var n,r=this.tFix;if(!("hours"in e&&"mins"in e&&"sec"in e))return"";var s=e.hours,i=e.mins,a=e.sec;return C()(n=[s,i,a]).call(n,(function(t){return t<0}))?"":r(s)+":"+r(i)+":"+r(a)},e}(S.wA),K=T.h.getStore(),Q=function(t){function e(){for(var e,n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,m()(e=[this]).call(e,s))||this,b()(w()(n),"state",{isFetching:!1,questions:null,answers:null,timeOver:!1}),b()(w()(n),"timeOver",(function(){var t,e;n.setState({timeOver:!0,forceSubmit:!0,answers:v()(t=f()(e=n.state.answers).call(e)).call(t,(function(t){return null==t?-1:t}))})})),b()(w()(n),"timeLeft",(function(t,e){return n.setState({timeLeft:t,prevTime:e})})),b()(w()(n),"_submit",(function(){if(!n.state.results&&!n.state.awaitingScore){var t=n.state.answers,e=K.userData.scholar,r=n.state.questions.subject;if(!n.state.forceSubmit){var s=[];if(l()(t).call(t,(function(t,e){return null==t&&s.push(e+1)})),s.length)return n.setState({$AnswerError:s.join(", ")})}n.setState({awaitingScore:!0}),(0,q.VN)(A.WX.gradeTest,{scholar:e,subject:r,answers:t}).then((function(t){if(t.error)return n.setState({error:t.error,awaitingScore:!1,timeOver:!1});T.h.set("userData",t.user_data),n.setState({results:t,awaitingScore:!1,timeOver:!1})}))}})),b()(w()(n),"_answerQuestion",(function(t){var e,r=t.target.dataset,s=+r.question_index,i=+r.option_index;n.state.answers[s]===i&&(i=null);var a=f()(e=n.state.answers).call(e);a[s]=i,n.setState({answers:a})})),b()(w()(n),"_closePopup",(function(){return n.setState({timeOver:!1})})),b()(w()(n),"_clearError",(function(){return n.setState({$AnswerError:null})})),b()(w()(n),"__closeTest",(function(){return(0,S.uX)("/")})),n}x()(e,t);var n=e.prototype;return n.componentDidUpdate=function(){!this.state.timeOver||this.state.awaitingScore||this.state.results||this._submit()},n.componentDidMount=function(){var t=this;if(!K.isLoggedIn)return(0,S.uX)("/");var e=new(u())(S.F0.getQs).get("sub");if(!e)return this.setState({error:"Invalid Exam"});this.setState({isFetching:!0}),(0,q.VN)(A.WX.startTest,{scholar:K.userData.scholar,subject:a()(e).call(e)}).then((function(e){var n;if(e.error)return t.setState({error:e.error,isFetching:!1});t.setState({questions:e,isFetching:!1,prevTime:+new Date,answers:s()(n=Array(e.question_data.length)).call(n,null),timeLeft:e.time_allotted-(e.now-e.start_time)})}))},n.render=function(t,e){var n,r=this;return e.error?(0,S.h)(L.OK,{reasons:[e.error],close:this.__closeTest}):e.$AnswerError?(0,S.h)(L.GI,{close:this._clearError,title:"Unanswered Questions Left",errorHead:"There is no negative marking. Please answer the following questions",reasons:[e.$AnswerError]}):e.isFetching?(0,S.h)("div",{style:O.Kx},"Loading questions"):e.timeOver?(0,S.h)(L.GI,{close:this._closePopup,title:"Time up",errorHead:"Your answers are being submitted"}):e.awaitingScore?(0,S.h)("div",{style:O.Kx},"Calculating your score"):e.results?(0,S.h)(L.GI,{close:this.__closeTest,title:"Results",errorHead:(0,S.h)(S.HY,null,(0,S.h)("div",null,"Maximum Marks: "+e.results.total),(0,S.h)("div",null,"Your score: ")),reasons:[e.results.score]}):e.questions&&(0,S.h)("div",null,(0,S.h)("div",{class:"exam-header"},"class ",e.questions.grade," - ",e.questions.subject," test"),(0,S.h)("div",{class:"total-time"},"Time allotted - ",(0,S.h)("span",{class:"bold"},(0,L.bT)(e.questions.time_allotted))),(0,S.h)("span",{class:"t-left"},"Time Left - ",(0,S.h)(H,{timeOver:this.timeOver,setTimeLeft:this.timeLeft,timeLeft:e.timeLeft,prevTime:e.prevTime})),(0,S.h)("div",{class:"questions-container"},v()(n=e.questions.question_data).call(n,(function(t,n){return(0,S.h)(D,{x:t,i:n,setOption:e.timeOver?null:r._answerQuestion,answered:e.answers[n]})}))),(0,S.h)("button",{class:"submit-exam hoverable",onClick:this._submit},"Submit"))},e}(S.wA)},3121:function(t,e,n){"use strict";n.d(e,{OK:function(){return m},GI:function(){return g},bT:function(){return w}});var r=n(2991),s=n.n(r),i=n(7766),a=n.n(i),o=n(1222),u=n.n(o),c=n(4382),l=n.n(c),h=n(7672),f=n.n(h),p=n(1942),v=n.n(p),d=n(2386);function m(t){return(0,d.h)(g,v()(v()({},t),{},{title:"An error occured"}))}var g=function(t){function e(){for(var e,n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,a()(e=[this]).call(e,s))||this,f()(u()(n),"__id",Math.random()),n}l()(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=document.getElementById(""+this.__id);t&&t.focus()},n.render=function(t){var e;return(0,d.h)(d.HY,null,(0,d.h)("div",{class:"mask"}),(0,d.h)("div",{class:"app-popup"},(0,d.h)("div",{class:"heading-text clr app-popup-title"},t.title),(0,d.h)("div",null,t.errorHead),(0,d.h)("div",{class:"err-reasons"},(0,d.h)("div",null,s()(e=t.reasons||[]).call(e,(function(t){return(0,d.h)("div",null," - ",t)})))),(0,d.h)("button",{id:this.__id,class:"app-popup-close",onClick:t.close},"OK")))},e}(d.wA),w=function(t){var e,n=Math.floor(t/3600),r=t%3600/60;return(n>0?n+" "+(e="hour",1===n?e:e+"s"):"")+(r>0?" "+r+" mins":"")}},5367:function(t,e,n){n(5906);var r=n(5703);t.exports=r("Array").concat},6172:function(t,e,n){n(290);var r=n(5703);t.exports=r("Array").fill},3824:function(t,e,n){n(6026);var r=n(5703);t.exports=r("Array").some},6043:function(t,e,n){var r=n(5367),s=Array.prototype;t.exports=function(t){var e=t.concat;return t===s||t instanceof Array&&e===s.concat?r:e}},446:function(t,e,n){var r=n(6172),s=Array.prototype;t.exports=function(t){var e=t.fill;return t===s||t instanceof Array&&e===s.fill?r:e}},8299:function(t,e,n){var r=n(3824),s=Array.prototype;t.exports=function(t){var e=t.some;return t===s||t instanceof Array&&e===s.some?r:e}},1860:function(t,e,n){"use strict";var r=n(9678),s=n(9413),i=n(3057);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,o=s(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:s(u,n);c>o;)e[o++]=t;return e}},290:function(t,e,n){var r=n(6887),s=n(1860),i=n(8479);r({target:"Array",proto:!0},{fill:s}),i("fill")},6026:function(t,e,n){"use strict";var r=n(6887),s=n(3610).some,i=n(4194),a=n(5486),o=i("some"),u=a("some");r({target:"Array",proto:!0,forced:!o||!u},{some:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},8065:function(t,e,n){var r=n(6043);t.exports=r},9743:function(t,e,n){var r=n(446);t.exports=r},5286:function(t,e,n){var r=n(8299);t.exports=r},3474:function(t,e,n){n(1249);var r=n(4058);t.exports=r.setInterval}}]);