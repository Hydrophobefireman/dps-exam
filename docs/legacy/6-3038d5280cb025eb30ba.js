webpackJsonp([6], function(__wpcc){'use strict';var qm=function(a){return void 0===a?a:String(a)},rm=function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a},sm=function(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.__proto__=b},tm=function(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a},vm=function(a){return(a+"").replace(um,"").toLowerCase()},wm=function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return a},xm=function(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.__proto__=b},ym=function(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a},zm=function(a,b,c,d,e,f,g){try{var h=a[f](g),l=h.value}catch(k){c(k);return}h.done?b(l):Promise.resolve(l).then(d,e)},Am=function(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){zm(h,d,e,f,g,"next",a)}function g(a){zm(h,d,e,f,g,"throw",
a)}var h=a.apply(b,c);f(void 0)})}},Cm=function(a){return Bm.apply(this,arguments)},Bm=function(){Bm=Am(regeneratorRuntime.mark(function c(b){var d;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,__wpcc.rg(__wpcc.ql.getAllStudents,{token:b});case 2:d=c.sent;if(!d.error){c.next=5;break}return c.abrupt("return",function(){return __wpcc.T("div",null,d.error)});case 5:return c.abrupt("return",function(){return __wpcc.T(Dm,{data:d,token:b})});case 6:case "end":return c.stop()}},
c)}));return Bm.apply(this,arguments)},Em=Math.max,Fm=Math.min,Gm=Math.floor,Hm=/\$([$&'`]|\d\d?|<[^>]*>)/g,Im=/\$([$&'`]|\d\d?)/g;
__wpcc.pd("replace",2,function(a,b,c,d){function e(a,c,d,e,f,g){var h=d+a.length,k=e.length,l=Im;void 0!==f&&(f=__wpcc.Wb(f),l=Hm);return b.call(g,l,function(b,g){switch(g.charAt(0)){case "$":return"$";case "&":return a;case "`":return c.slice(0,d);case "'":return c.slice(h);case "<":b=f[g.slice(1,-1)];break;default:var l=+g;if(0===l)return b;if(l>k)return l=Gm(l/10),0===l?b:l<=k?void 0===e[l-1]?g.charAt(1):e[l-1]+g.charAt(1):b;b=e[l-1]}return void 0===b?"":b})}var f=d.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,
g=d.REPLACE_KEEPS_$0,h=f?"$":"$0";return[function(c,d){var e=__wpcc.Ba(this),f=void 0==c?void 0:c[a];return void 0!==f?f.call(c,e,d):b.call(String(e),c,d)},function(a,d){if(!f&&g||"string"===typeof d&&-1===d.indexOf(h)){var l=c(b,a,this,d);if(l.done)return l.value}var k=__wpcc.v(a);a=String(this);(l="function"===typeof d)||(d=String(d));var u=k.global;if(u){var w=k.unicode;k.lastIndex=0}for(var I=[];;){var B=__wpcc.sd(k,a);if(null===B)break;I.push(B);if(!u)break;""===String(B[0])&&(k.lastIndex=__wpcc.rd(a,
__wpcc.La(k.lastIndex),w))}w="";for(u=k=0;u<I.length;u++){B=I[u];for(var ca=String(B[0]),M=Em(Fm(__wpcc.Ia(B.index),a.length),0),N=[],Ja=1;Ja<B.length;Ja++)N.push(qm(B[Ja]));B=B.groups;l?(N=[ca].concat(N,M,a),void 0!==B&&N.push(B),B=String(d.apply(void 0,N))):B=e(ca,a,M,N,B,d);M>=k&&(w+=a.slice(k,M)+B,k=M+ca.length)}return w+a.slice(k)}]});var Jm=__wpcc.Y.getStrings(),Km=window.requestAnimationFrame||window.Promise&&Promise.prototype.then.bind(Promise.resolve())||setTimeout,um=/\s/g,Dm=function(a){function b(){for(var b,c=arguments.length,f=Array(c),g=0;g<c;g++)f[g]=arguments[g];b=a.call.apply(a,[this].concat(f))||this;tm(rm(b),"state",{showCount:100,value:""});tm(rm(b),"increment",function(){return b.setState(function(a){return{showCount:a.showCount+100}})});tm(rm(b),"setFilter",function(a){var c=a.target.value;Km(function(){return b.setState({value:c,
showCount:100})})});tm(rm(b),"expandStudentDetails",function(a){return b.setState(function(b){var c=+a.target.dataset.student_scholar;return{expandScholar:b.expandScholar===c?-1:c}})});tm(rm(b),"resetScores",function(a,c){return function(){b.state.isResetting||(b.setState({isResetting:!0}),__wpcc.rg(__wpcc.ql.resetSubject,{token:b.props.token,scholar:a,subject:c}).then(function(a){return b.setState({data:a,value:"",expandScholar:null,isResetting:!1})}))}});tm(rm(b),"_applyGradeFilter",function(a){return b.setState(function(b){var c=
+a.target.dataset.class;c===b.filterGrade&&(c=null);return{filterGrade:+c,showCount:100}})});return b}sm(b,a);var c=b.prototype;c.applyFilter=function(a){var b=this,c=(this.state.value||"").trim();return c||this.state.filterGrade?a.filter(function(a){if(b.state.filterGrade&&a.grade!==b.state.filterGrade)return!1;var d=a.name;(a=vm(a.scholar).includes(vm(c)))||(a=vm(d).includes(vm(c)));return a}):a};c.componentDidMount=function(){this.setState({data:this.props.data})};c.getStudents=function(){var a=
this.state.data;if(a){a=this.applyFilter(a);for(var b=Math.min(this.state.showCount,a.length),c=Array(b),g=this.state.expandScholar,h=0;h<b;h++){var l=a[h];c[h]=__wpcc.T("div",null,__wpcc.T("div",{onClick:this.expandStudentDetails,class:"student-item","data-student_scholar":l.scholar},__wpcc.T("div",{class:"schlr"},l.scholar),__wpcc.T("div",{class:"student-name"},a[h].name),__wpcc.T("div",{class:"more-info"})),g===l.scholar&&__wpcc.T(Lm,{student:l,index:h,shouldExpand:!0,resetScores:this.resetScores}))}return c}};
c.render=function(a,b){return __wpcc.T("div",null,__wpcc.T("input",{class:"form-inx",placeholder:"Search",onInput:this.setFilter,value:b.value}),__wpcc.T("div",{class:"filter-by-class"},__wpcc.T("button",{class:"filter-button hoverable","data-class":10,onClick:this._applyGradeFilter},"Class 10"),__wpcc.T("button",{class:"filter-button hoverable","data-class":12,onClick:this._applyGradeFilter},"Class 12")),__wpcc.T("div",null,"Currently showing ",b.filterGrade?"Class "+b.filterGrade:"All"," students"),
__wpcc.T("div",null,this.getStudents()),b.data&&b.showCount<b.data.length&&__wpcc.T("button",{class:"show-more hoverable",onClick:this.increment},"Load More"))};return b}(__wpcc.Pf),Lm=function(a){function b(){for(var b,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];b=a.call.apply(a,[this].concat(e))||this;tm(rm(b),"state",{waitingForResetConfirmation:!1,subjectReset:null});tm(rm(b),"_confirmReset",function(a){return b.setState({waitingForResetConfirmation:!0,subjectReset:a.target.dataset.subject})});
tm(rm(b),"_cancel",b.setState({waitingForResetConfirmation:!1,subjectReset:null}));return b}sm(b,a);b.prototype.render=function(a,b){var c=this,d=a.student;return b.waitingForResetConfirmation?__wpcc.T(__wpcc.Fg,{cancel:this._cancel,title:"Are you sure?",errorHead:Jm.Admin$AboutToExecuteReset(d.name,d.scholar,b.subjectReset),close:this.props.resetScores(d.scholar,b.subjectReset)}):__wpcc.T("div",{class:"student-details"+(a.shouldExpand?" show-data":"")},__wpcc.T("div",{class:"student-details-table-like"},
__wpcc.T("div",{class:"info-field"},__wpcc.T("div",{class:"bold"},"Class"),__wpcc.T("span"),__wpcc.T("div",null,d.grade)),__wpcc.T("div",{style:{fontWeight:"bold"}},"Results:"),(0,__wpcc.eg)(d.testing_info||{}).map(function(a){var b=a[0];a=a[1];return __wpcc.T("div",{class:"info-field"},__wpcc.T("div",{class:"bold"},b),__wpcc.T("div",null,a.score),__wpcc.T("div",{onClick:c._confirmReset,class:"reset-score hoverable","data-subject":b},"Reset"))})))};return b}(__wpcc.Pf);var Mm,Nm;Mm=__wpcc.Y.getStrings();
Nm=function(a){function b(){for(var b,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];b=a.call.apply(a,[this].concat(e))||this;ym(wm(b),"state",{value:"",submittedToken:!1});ym(wm(b),"handleSubmit",function(){return b.setState({submittedToken:!0})});ym(wm(b),"handleInput",function(a){return b.setState({value:(a.target.value||"").trim()})});return b}xm(b,a);b.prototype.render=function(a,b){return this.state.submittedToken?__wpcc.T(__wpcc.bg,{componentPromise:function(){return Cm(b.value)},fallbackComponent:function(){return Mm.Loading$Default}}):
__wpcc.T("div",{style:Object.assign(Object.assign({},__wpcc.Xf),{},{flexDirection:"column"})},__wpcc.T("div",null,"Admin Dashboard"),__wpcc.T("form",{style:{width:"60%"},action:"javascript:",onSubmit:this.handleSubmit},__wpcc.T("input",{class:"form-inx",value:b.value,onInput:this.handleInput,placeholder:"Password",type:"password"}),__wpcc.T("div",null,__wpcc.T("button",{class:"action-btn",style:{marginTop:"1rem",visibility:b.value?"visible":"hidden"}},Mm.Login$login))))};return b}(__wpcc.Pf);
__wpcc.ml={};__wpcc.ml.default=Nm;});
